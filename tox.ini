[tox]
envlist=lint,py{27,36}

[testenv]
install_command=pip install -e '.[testing]' {packages}
commands=
    coverage erase
    coverage run --source='govdelivery' -m unittest discover {posargs}
    coverage report -m

basepython=
    py27: python2.7
    py36: python3.6

[testenv:lint]
basepython=python3.6
deps=
    flake8>=2.2.0
    isort>=4.2.15
commands=
    flake8 govdelivery
    isort --check-only --diff --recursive govdelivery
